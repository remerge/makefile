# Makefile Framework

Makefile framework for all remerge projects.

## Getting Started

For a new project that does not use the Makefile framework yet, add this
repository as a subtree:

```bash
git remote add makefile https://github.com/remerge/makefile
git subtree add --squash --prefix mkf/common makefile main
```

Afterwards make targets can be included in the project:

```bash
$ cat Makefile
include mkf/common/common.mk
```

## Updating Modules

To update the Makefile framework in the current repository:

```bash
make mkf-update
```

## Available Makefile Targets

| Name      | File       | Description                                                        |
| --------- | ---------- | ------------------------------------------------------------------ |
| help      | help.mk:7  | display this help text                                             |
| clean     | dep.mk:3   | remove all build artifacts generated by `make all`                 |
| distclean | dep.mk:4   | remove all artifacts, caches, dependencies and settings            |
| install   | dep.mk:5   | prepare environment and install dependencies for all make targets  |
| update    | dep.mk:6   | update environment and all dependencies to their latest version(s) |
| lint      | test.mk:1  | run code format check, code analysis, security scans, etc          |
| test      | test.mk:2  | run unit and integration tests                                     |
| generate  | build.mk:6 | generate documentation, schemas, etc                               |
| build     | build.mk:7 | run all build steps and create artifact(s)                         |
